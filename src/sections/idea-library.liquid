<section id="hero" class="idea-gallery"
{% if section.settings.banner_image %}
  style="background-image: url({{ section.settings.banner_image | img_url: 'original' }});"
{% endif %}>
  <div class="container">
    <div class="col-md-10 col-md-offset-1 text-center">
      <h1>{{ section.settings.banner_text }}</h1>
    </div>
  </div>
</section>
<header
{% if section.settings.header_bg %}
  style="background: {{ section.settings.header_bg }};"
{% endif %}>
  <div class="container">
    <h2
    {% if section.settings.header_color %}
      style="color: {{ section.settings.header_color }}"
    {% endif %}>{{ section.settings.heading_1 }}</h2>
    <p
    {% if section.settings.header_color %}
      style="color: {{ section.settings.header_color }}"
    {% endif %}>{{ section.settings.heading_details }}</p>
  </div>
</header>
<section class="container-fluid main-content">
  <div class="row">
    <div class="col-md-12">
      <div class="col-md-4">
        {{ section.settings.content }}
        <br />
        {% if section.settings.content_link %}
          <a href="{{ section.settings.content_link }}" class="gray-btn">{{ section.settings.content_button }}</a>
        {% endif %}
      </div>
      <div class="col-md-8">
        <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
          <!-- Indicators -->
          <ol class="carousel-indicators">
            {% for block in section.blocks %}
            {% assign count = forloop.index | minus: 1 %}
            {% if forloop.first == true %}
            <li data-target="#carousel-example-generic" data-slide-to="{{ count }}" class="active"></li>
            {% else %}
            <li data-target="#carousel-example-generic" data-slide-to="{{ count }}"></li>
            {% endif %}
            {% endfor %}
          </ol>

          <!-- Wrapper for slides -->
          <div class="carousel-inner" role="listbox">
          {% for block in section.blocks %}
            {% if forloop.first == true %}
            <div class="item active">
              <img src="{{ block.settings.image | img_url: 'original' }}" />
            </div>
            {% else %}
            <div class="item">
              <img src="{{ block.settings.image | img_url: 'original' }}" />
            </div>
            {% endif %}
          {% endfor %}
          </div>

          <!-- Controls -->
          <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
            <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
          </a>
          <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
            <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

{% schema %}
  {
    "name": "Idea Library",
    "settings": [
      {
        "type": "image_picker",
        "id": "banner_image",
        "label": "Banner Image"
      },
      {
        "type": "text",
        "id": "banner_text",
        "label": "Banner Text"
      },
      {
        "type": "color",
        "id": "header_bg",
        "label": "Header Background Color"
      },
      {
        "type": "color",
        "id": "header_color",
        "label": "Header Font Color"
      },
      {
        "type": "text",
        "id": "heading_1",
        "label": "Heading 1"
      },
      {
        "type": "textarea",
        "id": "heading_details",
        "label": "Heading Details"
      },
      {
        "type": "textarea",
        "id": "content",
        "label": "Content"
      },
      {
        "type": "url",
        "id": "content_link",
        "label": "Button Link"
      },
      {
        "type": "text",
        "id": "content_button",
        "label": "Button Text"
      }
    ],
    "blocks": [
      {
        "name": "Slider Image",
        "type": "slide_image",
        "settings": [
          {
            "type": "image_picker",
            "id": "image",
            "label": "Slider Image"
          }
        ]
      }
    ]
  }
{% endschema %}
