<header
{% if section.settings.heading_bg %}
  style="background: {{ section.settings.heading_bg }}"
{% endif %}>
  <h2
  {% if section.settings.heading_color %}
    style="color: {{ section.settings.heading_color }}"
  {% endif %}>{{ section.settings.heading }}</h2>
</header>
<div class="container-fluid installer-resources">
  <div class="row">
    {% for block in section.blocks %}
      <div class="col-md-4 resource"
      {% if block.settings.resource_bg %}
        style="background: {{ block.settings.resource_bg }}"
      {% endif %}>
        <a href="{{ block.settings.resource_link }}"><img src="{{ block.settings.resource_image | img_url: 'original' }}" /></a>
        <h3>{{ block.settings.heading }}</h3>
        <p>{{ block.settings.content }}</p>
      </div>
    {% endfor %}
  </div>
</div>

{% schema %}
  {
    "name": "Installer Resources",
    "settings": [
      {
        "type": "color",
        "id": "heading_bg",
        "label": "Heading Background Color"
      },
      {
        "type": "color",
        "id": "heading_color",
        "label": "Heading Color"
      },
      {
        "type": "text",
        "id": "heading",
        "label": "Heading"
      }
    ],
    "blocks": [
      {
        "name": "Resources",
        "type": "installer_resource",
        "settings": [
          {
            "type": "color",
            "id": "resource_bg",
            "label": "Resource Background Color"
          },
          {
            "type": "url",
            "id": "resource_link",
            "label": "Resource Link"
          },
          {
            "type": "image_picker",
            "id": "resource_image",
            "label": "Resource Image"
          },
          {
            "type": "text",
            "id": "heading",
            "label": "Resource Heading"
          },
          {
            "type": "textarea",
            "id": "content",
            "label": "Resource Content"
          }
        ]
      }
    ]
  }
{% endschema %}
